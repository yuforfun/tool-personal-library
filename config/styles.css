/* 修正 [config/styles.css] 區塊 E: 書封風格調整 (Square & KaiTi) */
/* 修正原因：應使用者要求，將書封比例改為 1:1 (變矮)，字體放大 1.5 倍並改用標楷體。 */

/* === Global Fonts === */
/* 全域維持微軟正黑體，只有書封特殊處理 */
html, body, [class*="css"] {
    font-family: "Microsoft JhengHei", "Segoe UI", sans-serif !important;
}

.stApp {
    background-color: #f9f9f9;
}

/* === Sidebar & Inputs === */
[data-testid="stSidebar"] {
    background-color: #f0f2f6;
    border-right: 1px solid #e0e0e0;
}
.stTextInput input, .stSelectbox div[data-baseweb="select"], .stNumberInput input {
    background-color: white !important;
    border: 1px solid #ddd !important;
    border-radius: 6px !important;
}

/* === Gallery View: Morandi Cover === */
.book-card-container {
    cursor: pointer;
    transition: transform 0.2s ease;
    margin-bottom: 12px;
}
.book-card-container:hover {
    transform: translateY(-5px);
}

.book-cover {
    width: 100%;
    /* [修改點] 高度縮短為原本的 2/3 -> 改為 1:1 正方形 */
    aspect-ratio: 1 / 1; 
    
    position: relative;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 10px; /* 內距稍微減少，爭取空間 */
    overflow: hidden;
}

.book-stars {
    margin-bottom: 4px; /* 減少間距 */
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.95);
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    line-height: 1;
    flex-shrink: 0; /* 防止星星被壓縮 */
}

.book-title-group {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    margin-bottom: 2px;
    /* 允許標題區塊在必要時壓縮一點點 */
    min-height: 0; 
}

.book-title-text {
    /* [修改點] 字體放大 1.5 倍 (1.05 * 1.5 ≈ 1.6) */
    font-size: 1.6rem;
    /* [修改點] 改用標楷體系列 */
    font-family: "標楷體", "DFKai-SB", "KaiTi", "serif" !important;
    font-weight: bold;
    line-height: 1.2; /* 行高調小，避免太佔空間 */
    color: inherit;
    
    /* 因為卡片變矮字變大，最多只能顯示 2-3 行 */
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    word-break: break-word;
}

.book-author-text {
    /* [修改點] 字體放大 1.5 倍 (0.85 * 1.5 ≈ 1.3) */
    font-size: 1.3rem;
    /* [修改點] 改用標楷體系列 */
    font-family: "標楷體", "DFKai-SB", "KaiTi", "serif" !important;
    
    opacity: 0.9; /* 字體變大後，透明度稍微提高一點增加清晰度 */
    margin-top: 2px;
    margin-bottom: 8px;
    flex-shrink: 0; /* 防止作者名被壓縮 */
}

.book-status-micro {
    position: absolute;
    bottom: 4px;
    right: 6px;
    font-size: 0.6rem;
    opacity: 0.7;
    letter-spacing: 1px;
    text-transform: uppercase;
}

/* === List View: Separator === */
.list-item-separator {
    height: 1px;
    background-color: #eee;
    margin: 4px 0;
}

/* === Buttons === */
.stButton > button {
    border-radius: 6px !important;
    border: none !important;
    transition: background 0.2s;
}
[data-testid="stVerticalBlock"] .stButton > button {
    background-color: #f0f0f0 !important;
    color: #555 !important;
}
[data-testid="stVerticalBlock"] .stButton > button:hover {
    background-color: #e0e0e0 !important;
    color: #333 !important;
}

/* 導航列按鈕微調 */
div[data-testid="stHorizontalBlock"] button {
    padding: 0px 5px !important;
    font-size: 0.8rem !important;
}